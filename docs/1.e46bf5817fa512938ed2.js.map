{"version":3,"sources":["webpack:///./src/app/core/services/notifications.service.ts","webpack:///./src/app/modules/pages/event/board/event-participants/participants-preview/add-people/add-people.component.ts","webpack:///./src/app/modules/pages/event/board/event-participants/participants-preview/add-people/add-people.component.scss.shim.ngstyle.js.pre-build-optimizer.js","webpack:///./src/app/modules/pages/event/board/event-participants/participants-preview/add-people/add-people.component.ngfactory.js.pre-build-optimizer.js","webpack:///./src/app/modules/pages/event/board/event-participants/participants-preview/add-people/add-people.component.html","webpack:///./src/app/core/services/modal-manager.service.ts","webpack:///./src/app/core/services/modal-manager.service.ts.pre-build-optimizer.js","webpack:///./src/app/modules/pages/event/board/event-participants/participants-preview/add-people/add-people.module.ts","webpack:///./src/app/core/services/distribution-lists/distribution-lists.service.ts"],"names":["NotificationType","__webpack_require__","d","__webpack_exports__","NotificationsService","prototype","notify","message","type","$","icon","z_index","delay","timer","placement","from","align","template","AddPeopleComponent","_angular_forms__WEBPACK_IMPORTED_MODULE_0__","sweetalert2__WEBPACK_IMPORTED_MODULE_1__","sweetalert2__WEBPACK_IMPORTED_MODULE_1___default","n","_environments_environment__WEBPACK_IMPORTED_MODULE_2__","rxjs_operators__WEBPACK_IMPORTED_MODULE_3__","fb","cd","httpService","distributionListService","messageService","this","displayErrors","SELECT_ID","ngOnInit","_this","form","emails","array","createItem","eventRef","initEventInviteToken","getUserDistributionLists","pipe","Object","subscribe","data","userLists","detectChanges","select","document","getElementById","selectedListId","options","id","distributionList","initListInviteToken","group","email","addItem","push","removeItem","i","removeAt","sendMailInvitation","foundError","length","control","at","pristine","invalid","controls","find","e","value","recipients","getRawValue","map","v","filter","sendEventEmails","sendListEmails","errorSwal","MIN_ONE_EMAIL_REQUIRED","eventMailInvite","ref","forEach","c","reset","successSwal","INVITATION_SENT","BAD_EMAIL","listMailInvite","sendListInvitation","inviteDistributionList","distributionListId","INVITATIONS_SENT","AN_ERROR_OCCURED","listPick","selectedIndex","getEventInviteToken","link","generatedLink","appUrl","token","getListInviteToken","title","showConfirmButton","RenderType_AddPeopleComponent","View_AddPeopleComponent_0","core","encapsulation","styles","View_AddPeopleComponent_1","_l","View_AddPeopleComponent_2","View_AddPeopleComponent_4","View_AddPeopleComponent_5","_v","en","$event","ad","component","parent","context","index","View_AddPeopleComponent_3","fesm5_forms","name","common","ngIf","_handleInput","target","onTouched","_compositionStart","_compositionEnd","p0_0","_ck","_co","ngClassUntouched","ngClassTouched","ngClassPristine","ngClassDirty","ngClassValid","ngClassInvalid","ngClassPending","View_AddPeopleComponent_8","View_AddPeopleComponent_9","View_AddPeopleComponent_7","ngPlural","$implicit","memberRefs","View_AddPeopleComponent_6","onSubmit","onReset","ngForOf","VibentModals","ModalManagerService","initHandleBackBrowser","modalIds","_i","arguments","_loop_1","modalId","on","window","location","hash","hideModal","_a","modalIds_1","showModal","modal","AddPeopleModule","DistributionListsService","rxjs_operators__WEBPACK_IMPORTED_MODULE_0__","rxjs__WEBPACK_IMPORTED_MODULE_1__","updated$","getUserEvents","dlei","Promise","resolve","getEvents","events","events_1","event_1","peopleIn","participationRefs","updateUserLists","next","getConnectedDistributionLists"],"mappings":"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","file":"1.e46bf5817fa512938ed2.js","sourcesContent":["import { Injectable } from '@angular/core';\n\ndeclare var $: any;\n\nexport enum NotificationType {\n  INFO = 'info',\n  SUCCESS = 'success',\n  WARNING = 'warning',\n  DANGER = 'danger',\n}\n\n@Injectable()\nexport class NotificationsService {\n\n  constructor() {\n  }\n\n  public notify(message: string, type: NotificationType): void {\n\n    $.notify({\n      icon: 'notifications',\n      message: message\n    }, {\n      type: type,\n      z_index: 9999,\n      delay: 1000,\n      timer: 1000,\n      placement: {\n        from: 'bottom',\n        align: 'right'\n      },\n      template: '<div data-notify=\"container\" class=\"col-xl-4 col-lg-4 col-11 col-sm-4 col-md-4 alert alert-{0} alert-with-icon\" role=\"alert\">' +\n        '<button mat-button  type=\"button\" aria-hidden=\"true\" class=\"close mat-button\" data-notify=\"dismiss\">  <i class=\"material-icons\">close</i></button>' +\n        '<i class=\"material-icons\" data-notify=\"icon\">notifications</i> ' +\n        '<span data-notify=\"title\">{1}</span> ' +\n        '<span data-notify=\"message\">{2}</span>' +\n        '<div class=\"progress\" data-notify=\"progressbar\">' +\n        '<div class=\"progress-bar progress-bar-{0}\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 0%;\"></div>' +\n        '</div>' +\n        '<a href=\"{3}\" target=\"{4}\" data-notify=\"url\"></a>' +\n        '</div>'\n    });\n  }\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { HttpService } from '../../../../../../../core/http/http.service';\nimport Swal from 'sweetalert2';\nimport { environment } from '../../../../../../../../environments/environment';\nimport { MessageService } from '../../../../../../../core/services/i18n/message.service';\nimport { DistributionList } from '../../../../../../../shared/models/distribution-list';\nimport { DistributionListsService } from '../../../../../../../core/services/distribution-lists/distribution-lists.service';\nimport { take } from 'rxjs/operators';\n\n@Component({\n  selector: 'add-people',\n  templateUrl: './add-people.component.html',\n  styleUrls: ['./add-people.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\n/**\n * This component is shared between event and list invitation\n * @Input()\n * eventRef\n * @Input()\n * distributionList:\n *\n * Input determines the use case.\n * We allow ourselves to manage these two use cases in the same component because it only responds to two simple cases.\n * A division into several components should be considered in case of more cases\n *\n */\nexport class AddPeopleComponent implements OnInit {\n\n  // Determining the use case\n  @Input()\n  eventRef: string;\n  @Input()\n  distributionList: DistributionList;\n\n  form: FormGroup;\n  emails: FormArray;\n  displayErrors = {};\n  generatedLink: string;\n  selectedListId: number;\n  userLists: DistributionList[];\n  SELECT_ID = 'select-list';\n\n  constructor(private fb: FormBuilder,\n              private cd: ChangeDetectorRef,\n              private httpService: HttpService,\n              private distributionListService: DistributionListsService,\n              private messageService: MessageService) {\n  }\n\n  ngOnInit(): void {\n    this.form = new FormGroup({\n      emails: this.emails = this.fb.array([this.createItem(), this.createItem(), this.createItem()]),\n    });\n\n    if (this.eventRef) {\n      this.initEventInviteToken();\n      this.distributionListService.getUserDistributionLists().pipe(take(1)).subscribe((data: DistributionList[]) => {\n        this.userLists = data;\n        this.cd.detectChanges();\n        // First event is selected by default\n        const select = document.getElementById(this.SELECT_ID) as HTMLSelectElement;\n        this.selectedListId = +select.options[0].id;\n      });\n    } else if (this.distributionList) {\n      this.initListInviteToken();\n    }\n  }\n\n  createItem(): FormGroup {\n    return this.fb.group({\n      email: new FormControl('', Validators.email),\n    });\n  }\n\n  addItem(): void {\n    this.emails.push(this.createItem());\n  }\n\n  removeItem(i: number): void {\n    this.emails.removeAt(i);\n  }\n\n  /**\n   * Send Invitations\n   */\n  public sendMailInvitation(): void {\n    // Check for any invalid emails\n    this.displayErrors = {};\n    let foundError = false;\n    for (let i = 0; i < this.emails.length; i++) {\n      const control = this.emails.at(i);\n      if (!control.pristine && control.invalid) {\n        foundError = true;\n        this.displayErrors[i] = true;\n      }\n    }\n    if (foundError) {\n      return;\n    }\n\n    // Check that at least one email is entered\n    if (!this.emails.controls.find(e => e.value.email.length !== 0)) {\n      this.errorSwal(this.messageService.MIN_ONE_EMAIL_REQUIRED);\n      return;\n    }\n\n    // Proceed with call to back\n    const recipients = this.emails.getRawValue().map(v => v.email).filter(e => e.length !== 0);\n    if (this.eventRef) {\n      this.sendEventEmails(recipients);\n    } else if (this.distributionList) {\n      this.sendListEmails(recipients);\n    }\n  }\n\n  sendEventEmails(recipients) {\n    this.httpService.eventMailInvite({\n      ref: this.eventRef,\n      recipients: recipients\n    }).subscribe(() => {\n      this.emails.controls.forEach(c => c.reset());\n      this.successSwal(this.messageService.INVITATION_SENT);\n    }, () => {\n      this.errorSwal(this.messageService.BAD_EMAIL);\n    });\n  }\n\n  sendListEmails(recipients) {\n    this.httpService.listMailInvite({\n      id: this.distributionList.id,\n      recipients: recipients\n    }).subscribe(() => {\n      this.emails.controls.forEach(c => c.reset());\n      this.successSwal(this.messageService.INVITATION_SENT);\n    }, () => {\n      this.errorSwal(this.messageService.BAD_EMAIL);\n    });\n  }\n\n  sendListInvitation() {\n    this.httpService.inviteDistributionList({\n      distributionListId: this.selectedListId,\n      eventRef: this.eventRef\n    }).pipe(take(1)).subscribe(() => {\n      this.successSwal(this.messageService.INVITATIONS_SENT);\n    }, () => {\n      this.errorSwal(this.messageService.AN_ERROR_OCCURED);\n    });\n  }\n\n  listPick(select) {\n    this.selectedListId = select.options[select.selectedIndex].id;\n  }\n\n  /**\n   * Invitation link generation\n   */\n  initEventInviteToken() {\n    this.httpService.getEventInviteToken(this.eventRef).subscribe((link) => {\n      this.generatedLink = environment.appUrl + '/invite/e/' + link.token;\n      this.cd.detectChanges();\n    });\n  }\n\n  initListInviteToken() {\n    this.httpService.getListInviteToken(this.distributionList.id).subscribe((link) => {\n      this.generatedLink = environment.appUrl + '/invite/l/' + link.token;\n      this.cd.detectChanges();\n    });\n  }\n\n  /**\n   * Swal errors\n   */\n  successSwal(message: string) {\n    Swal({\n      type: 'success',\n      title: message,\n      showConfirmButton: true,\n    });\n  }\n\n  errorSwal(message: string) {\n    Swal({\n      type: 'error',\n      title: message,\n      showConfirmButton: true,\n    });\n  }\n\n}\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nvar styles = [\".paper-plane[_ngcontent-%COMP%]{color:#138ccd;font-size:30px}.mail-container[_ngcontent-%COMP%]{display:inline-flex;width:100%}input.email[_ngcontent-%COMP%]{width:90%}.action-email[_ngcontent-%COMP%]{margin-top:8px}.close-button[_ngcontent-%COMP%]{width:17px;margin-left:20px}.add-another-email[_ngcontent-%COMP%]{color:#138ccd}.add-another-email[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer}.add-another-email[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.add-another-email[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}\"];\nexport { styles as styles };\n","/**\n * @fileoverview This file was generated by the Angular template compiler. Do not edit.\n *\n * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}\n * tslint:disable\n */ \nimport * as i0 from \"./add-people.component.scss.shim.ngstyle\";\nimport * as i1 from \"@angular/core\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./add-people.component\";\nimport * as i5 from \"../../../../../../../core/http/http.service\";\nimport * as i6 from \"../../../../../../../core/services/distribution-lists/distribution-lists.service\";\nimport * as i7 from \"../../../../../../../core/services/i18n/message.service\";\nvar styles_AddPeopleComponent = [i0.styles];\nvar RenderType_AddPeopleComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_AddPeopleComponent, data: {} });\nexport { RenderType_AddPeopleComponent as RenderType_AddPeopleComponent };\nfunction View_AddPeopleComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"p\", [[\"class\", \"text-center m-t-5\"]], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"Send them this URL to allow them to join your event.\"]))], null, null); }\nfunction View_AddPeopleComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"p\", [[\"class\", \"text-center m-t-5\"]], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"Send them this URL to allow them to join your list.\"]))], null, null); }\nfunction View_AddPeopleComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"span\", [[\"class\", \"incorrect-input\"], [\"style\", \"margin-right: 10% \"]], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"This email is invalid - please fix it\"]))], null, null); }\nfunction View_AddPeopleComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"div\", [[\"class\", \"action-email remove\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 0, \"img\", [[\"class\", \"close-button cursor-pointer\"], [\"src\", \"./assets/img/close.png\"]], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.removeItem(_v.parent.context.index) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, null, null))], null, null); }\nfunction View_AddPeopleComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 19, \"div\", [[\"formArrayName\", \"emails\"], [\"id\", \"email-address\"]], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], null, null, null, null)), i1.ɵdid(1, 212992, null, 0, i2.FormArrayName, [[3, i2.ControlContainer], [8, null], [8, null]], { name: [0, \"name\"] }, null), i1.ɵprd(2048, null, i2.ControlContainer, null, [i2.FormArrayName]), i1.ɵdid(3, 16384, null, 0, i2.NgControlStatusGroup, [[4, i2.ControlContainer]], null, null), (_l()(), i1.ɵeld(4, 0, null, null, 15, \"div\", [], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], null, null, null, null)), i1.ɵdid(5, 212992, null, 0, i2.FormGroupName, [[3, i2.ControlContainer], [8, null], [8, null]], { name: [0, \"name\"] }, null), i1.ɵprd(2048, null, i2.ControlContainer, null, [i2.FormGroupName]), i1.ɵdid(7, 16384, null, 0, i2.NgControlStatusGroup, [[4, i2.ControlContainer]], null, null), (_l()(), i1.ɵeld(8, 0, null, null, 11, \"div\", [[\"class\", \"form-group\"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_AddPeopleComponent_4)), i1.ɵdid(10, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵeld(11, 0, null, null, 8, \"div\", [[\"class\", \"mail-container\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(12, 0, null, null, 5, \"input\", [[\"class\", \"form-control email\"], [\"formControlName\", \"email\"], [\"type\", \"text\"]], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"input\"], [null, \"blur\"], [null, \"compositionstart\"], [null, \"compositionend\"]], function (_v, en, $event) { var ad = true; if ((\"input\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 13)._handleInput($event.target.value) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"blur\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 13).onTouched() !== false);\n        ad = (pd_1 && ad);\n    } if ((\"compositionstart\" === en)) {\n        var pd_2 = (i1.ɵnov(_v, 13)._compositionStart() !== false);\n        ad = (pd_2 && ad);\n    } if ((\"compositionend\" === en)) {\n        var pd_3 = (i1.ɵnov(_v, 13)._compositionEnd($event.target.value) !== false);\n        ad = (pd_3 && ad);\n    } return ad; }, null, null)), i1.ɵdid(13, 16384, null, 0, i2.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i2.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵprd(1024, null, i2.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i2.DefaultValueAccessor]), i1.ɵdid(15, 671744, null, 0, i2.FormControlName, [[3, i2.ControlContainer], [8, null], [8, null], [6, i2.NG_VALUE_ACCESSOR], [2, i2.ɵangular_packages_forms_forms_k]], { name: [0, \"name\"] }, null), i1.ɵprd(2048, null, i2.NgControl, null, [i2.FormControlName]), i1.ɵdid(17, 16384, null, 0, i2.NgControlStatus, [[4, i2.NgControl]], null, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_AddPeopleComponent_5)), i1.ɵdid(19, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_7 = \"emails\"; _ck(_v, 1, 0, currVal_7); var currVal_15 = _v.context.index; _ck(_v, 5, 0, currVal_15); var currVal_16 = _co.displayErrors[_v.context.index]; _ck(_v, 10, 0, currVal_16); var currVal_24 = \"email\"; _ck(_v, 15, 0, currVal_24); var currVal_25 = (_co.emails.length > 1); _ck(_v, 19, 0, currVal_25); }, function (_ck, _v) { var currVal_0 = i1.ɵnov(_v, 3).ngClassUntouched; var currVal_1 = i1.ɵnov(_v, 3).ngClassTouched; var currVal_2 = i1.ɵnov(_v, 3).ngClassPristine; var currVal_3 = i1.ɵnov(_v, 3).ngClassDirty; var currVal_4 = i1.ɵnov(_v, 3).ngClassValid; var currVal_5 = i1.ɵnov(_v, 3).ngClassInvalid; var currVal_6 = i1.ɵnov(_v, 3).ngClassPending; _ck(_v, 0, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6); var currVal_8 = i1.ɵnov(_v, 7).ngClassUntouched; var currVal_9 = i1.ɵnov(_v, 7).ngClassTouched; var currVal_10 = i1.ɵnov(_v, 7).ngClassPristine; var currVal_11 = i1.ɵnov(_v, 7).ngClassDirty; var currVal_12 = i1.ɵnov(_v, 7).ngClassValid; var currVal_13 = i1.ɵnov(_v, 7).ngClassInvalid; var currVal_14 = i1.ɵnov(_v, 7).ngClassPending; _ck(_v, 4, 0, currVal_8, currVal_9, currVal_10, currVal_11, currVal_12, currVal_13, currVal_14); var currVal_17 = i1.ɵnov(_v, 17).ngClassUntouched; var currVal_18 = i1.ɵnov(_v, 17).ngClassTouched; var currVal_19 = i1.ɵnov(_v, 17).ngClassPristine; var currVal_20 = i1.ɵnov(_v, 17).ngClassDirty; var currVal_21 = i1.ɵnov(_v, 17).ngClassValid; var currVal_22 = i1.ɵnov(_v, 17).ngClassInvalid; var currVal_23 = i1.ɵnov(_v, 17).ngClassPending; _ck(_v, 12, 0, currVal_17, currVal_18, currVal_19, currVal_20, currVal_21, currVal_22, currVal_23); }); }\nfunction View_AddPeopleComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵted(-1, null, [\"person\"]))], null, null); }\nfunction View_AddPeopleComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵted(-1, null, [\"people\"]))], null, null); }\nfunction View_AddPeopleComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, \"option\", [], [[8, \"id\", 0]], null, null, null, null)), i1.ɵdid(1, 147456, null, 0, i2.NgSelectOption, [i1.ElementRef, i1.Renderer2, [8, null]], { value: [0, \"value\"] }, null), i1.ɵdid(2, 147456, null, 0, i2.ɵangular_packages_forms_forms_s, [i1.ElementRef, i1.Renderer2, [8, null]], { value: [0, \"value\"] }, null), (_l()(), i1.ɵted(3, null, [\" \", \" (\", \" \"])), (_l()(), i1.ɵeld(4, 0, null, null, 5, null, null, null, null, null, null, null)), i1.ɵdid(5, 16384, null, 0, i3.NgPlural, [i3.NgLocalization], { ngPlural: [0, \"ngPlural\"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_AddPeopleComponent_8)), i1.ɵdid(7, 16384, null, 0, i3.NgPluralCase, [[8, \"=1\"], i1.TemplateRef, i1.ViewContainerRef, i3.NgPlural], null, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_AddPeopleComponent_9)), i1.ɵdid(9, 16384, null, 0, i3.NgPluralCase, [[8, \"other\"], i1.TemplateRef, i1.ViewContainerRef, i3.NgPlural], null, null), (_l()(), i1.ɵted(-1, null, [\") \"]))], function (_ck, _v) { var currVal_1 = _v.context.$implicit.title; _ck(_v, 1, 0, currVal_1); var currVal_2 = _v.context.$implicit.title; _ck(_v, 2, 0, currVal_2); var currVal_5 = _v.context.$implicit.memberRefs.length; _ck(_v, 5, 0, currVal_5); }, function (_ck, _v) { var currVal_0 = _v.context.$implicit.id; _ck(_v, 0, 0, currVal_0); var currVal_3 = _v.context.$implicit.title; var currVal_4 = _v.context.$implicit.memberRefs.length; _ck(_v, 3, 0, currVal_3, currVal_4); }); }\nfunction View_AddPeopleComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 20, \"div\", [[\"class\", \"select-list\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 1, \"div\", [[\"class\", \"d-flex justify-content-center m-t-50\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 0, \"i\", [[\"class\", \"fas fa-users paper-plane\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 2, \"h2\", [[\"class\", \"text-center m-t-10\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 1, \"b\", [], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"Add people from a list\"])), (_l()(), i1.ɵeld(6, 0, null, null, 1, \"p\", [[\"class\", \"text-center m-t-5\"]], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"Automatically invite all the people on a list to the event\"])), (_l()(), i1.ɵeld(8, 0, null, null, 9, \"div\", [], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"submit\"], [null, \"reset\"]], function (_v, en, $event) { var ad = true; if ((\"submit\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 9).onSubmit($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"reset\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 9).onReset() !== false);\n        ad = (pd_1 && ad);\n    } return ad; }, null, null)), i1.ɵdid(9, 540672, null, 0, i2.FormGroupDirective, [[8, null], [8, null]], null, null), i1.ɵprd(2048, null, i2.ControlContainer, null, [i2.FormGroupDirective]), i1.ɵdid(11, 16384, null, 0, i2.NgControlStatusGroup, [[4, i2.ControlContainer]], null, null), (_l()(), i1.ɵeld(12, 0, null, null, 5, \"div\", [[\"class\", \"form-group\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(13, 0, null, null, 1, \"label\", [[\"for\", \"select-list\"]], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"Select a distribution list\"])), (_l()(), i1.ɵeld(15, 0, [[\"t\", 1]], null, 2, \"select\", [[\"class\", \"form-control\"], [\"id\", \"select-list\"]], null, [[null, \"change\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"change\" === en)) {\n        var pd_0 = (_co.listPick(i1.ɵnov(_v, 15)) !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_AddPeopleComponent_7)), i1.ɵdid(17, 278528, null, 0, i3.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, \"ngForOf\"] }, null), (_l()(), i1.ɵeld(18, 0, null, null, 2, \"div\", [[\"class\", \"row justify-content-center\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(19, 0, null, null, 1, \"button\", [[\"class\", \"btn btn-round white-button m-t-15\"]], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.sendListInvitation() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, null, null)), (_l()(), i1.ɵted(-1, null, [\"Send \"]))], function (_ck, _v) { var _co = _v.component; var currVal_7 = _co.userLists; _ck(_v, 17, 0, currVal_7); }, function (_ck, _v) { var currVal_0 = i1.ɵnov(_v, 11).ngClassUntouched; var currVal_1 = i1.ɵnov(_v, 11).ngClassTouched; var currVal_2 = i1.ɵnov(_v, 11).ngClassPristine; var currVal_3 = i1.ɵnov(_v, 11).ngClassDirty; var currVal_4 = i1.ɵnov(_v, 11).ngClassValid; var currVal_5 = i1.ɵnov(_v, 11).ngClassInvalid; var currVal_6 = i1.ɵnov(_v, 11).ngClassPending; _ck(_v, 8, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6); }); }\nexport function View_AddPeopleComponent_0(_l) { return i1.ɵvid(2, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"div\", [[\"class\", \"d-flex justify-content-center\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 0, \"i\", [[\"class\", \"fas fa-paper-plane paper-plane\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, \"h2\", [[\"class\", \"text-center m-t-10\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 1, \"b\", [], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"Add people with a magic link\"])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_AddPeopleComponent_1)), i1.ɵdid(6, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_AddPeopleComponent_2)), i1.ɵdid(8, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null), (_l()(), i1.ɵeld(9, 0, null, null, 4, \"div\", [[\"class\", \"form-group\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 2, \"label\", [[\"for\", \"invite-token\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(11, 0, null, null, 1, \"b\", [], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"Magic link\"])), (_l()(), i1.ɵeld(13, 0, null, null, 0, \"input\", [[\"class\", \"form-control\"], [\"id\", \"invite-token\"], [\"type\", \"text\"]], [[8, \"value\", 0]], null, null, null, null)), (_l()(), i1.ɵeld(14, 0, null, null, 1, \"div\", [[\"class\", \"d-flex justify-content-center m-t-50\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(15, 0, null, null, 0, \"i\", [[\"class\", \"fas fa-envelope m-t-20 paper-plane\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(16, 0, null, null, 2, \"h2\", [[\"class\", \"text-center m-t-10\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(17, 0, null, null, 1, \"b\", [], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"Add people by email\"])), (_l()(), i1.ɵeld(19, 0, null, null, 1, \"p\", [[\"class\", \"text-center m-t-5\"]], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"You can also invite them by email\"])), (_l()(), i1.ɵeld(21, 0, null, null, 15, \"div\", [[\"class\", \"emails\"]], [[2, \"ng-untouched\", null], [2, \"ng-touched\", null], [2, \"ng-pristine\", null], [2, \"ng-dirty\", null], [2, \"ng-valid\", null], [2, \"ng-invalid\", null], [2, \"ng-pending\", null]], [[null, \"submit\"], [null, \"reset\"]], function (_v, en, $event) { var ad = true; if ((\"submit\" === en)) {\n        var pd_0 = (i1.ɵnov(_v, 22).onSubmit($event) !== false);\n        ad = (pd_0 && ad);\n    } if ((\"reset\" === en)) {\n        var pd_1 = (i1.ɵnov(_v, 22).onReset() !== false);\n        ad = (pd_1 && ad);\n    } return ad; }, null, null)), i1.ɵdid(22, 540672, null, 0, i2.FormGroupDirective, [[8, null], [8, null]], { form: [0, \"form\"] }, null), i1.ɵprd(2048, null, i2.ControlContainer, null, [i2.FormGroupDirective]), i1.ɵdid(24, 16384, null, 0, i2.NgControlStatusGroup, [[4, i2.ControlContainer]], null, null), (_l()(), i1.ɵeld(25, 0, null, null, 2, \"label\", [], null, null, null, null, null)), (_l()(), i1.ɵeld(26, 0, null, null, 1, \"b\", [], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"Email\"])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_AddPeopleComponent_3)), i1.ɵdid(29, 278528, null, 0, i3.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, \"ngForOf\"] }, null), (_l()(), i1.ɵeld(30, 0, null, null, 3, \"div\", [[\"class\", \"add-another-email\"]], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.addItem() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, null, null)), (_l()(), i1.ɵeld(31, 0, null, null, 0, \"i\", [[\"class\", \"fas fa-plus-circle\"]], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.addItem() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, null, null)), (_l()(), i1.ɵeld(32, 0, null, null, 1, \"span\", [], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, [\"Add another email\"])), (_l()(), i1.ɵeld(34, 0, null, null, 2, \"div\", [[\"class\", \"row justify-content-center\"]], null, null, null, null, null)), (_l()(), i1.ɵeld(35, 0, null, null, 1, \"button\", [[\"class\", \"btn btn-round white-button m-t-15\"]], null, [[null, \"click\"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if ((\"click\" === en)) {\n        var pd_0 = (_co.sendMailInvitation() !== false);\n        ad = (pd_0 && ad);\n    } return ad; }, null, null)), (_l()(), i1.ɵted(-1, null, [\"Send \"])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_AddPeopleComponent_6)), i1.ɵdid(38, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, \"ngIf\"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.eventRef; _ck(_v, 6, 0, currVal_0); var currVal_1 = _co.distributionList; _ck(_v, 8, 0, currVal_1); var currVal_10 = _co.form; _ck(_v, 22, 0, currVal_10); var currVal_11 = _co.emails.controls; _ck(_v, 29, 0, currVal_11); var currVal_12 = (_co.eventRef && (((_co.userLists == null) ? null : _co.userLists.length) > 0)); _ck(_v, 38, 0, currVal_12); }, function (_ck, _v) { var _co = _v.component; var currVal_2 = i1.ɵinlineInterpolate(1, \"\", _co.generatedLink, \"\"); _ck(_v, 13, 0, currVal_2); var currVal_3 = i1.ɵnov(_v, 24).ngClassUntouched; var currVal_4 = i1.ɵnov(_v, 24).ngClassTouched; var currVal_5 = i1.ɵnov(_v, 24).ngClassPristine; var currVal_6 = i1.ɵnov(_v, 24).ngClassDirty; var currVal_7 = i1.ɵnov(_v, 24).ngClassValid; var currVal_8 = i1.ɵnov(_v, 24).ngClassInvalid; var currVal_9 = i1.ɵnov(_v, 24).ngClassPending; _ck(_v, 21, 0, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7, currVal_8, currVal_9); }); }\nexport function View_AddPeopleComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, \"add-people\", [], null, null, null, View_AddPeopleComponent_0, RenderType_AddPeopleComponent)), i1.ɵdid(1, 114688, null, 0, i4.AddPeopleComponent, [i2.FormBuilder, i1.ChangeDetectorRef, i5.HttpService, i6.DistributionListsService, i7.MessageService], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }\nvar AddPeopleComponentNgFactory = i1.ɵccf(\"add-people\", i4.AddPeopleComponent, View_AddPeopleComponent_Host_0, { eventRef: \"eventRef\", distributionList: \"distributionList\" }, {}, []);\nexport { AddPeopleComponentNgFactory as AddPeopleComponentNgFactory };\n","<div class=\"d-flex justify-content-center\">\n  <i class=\"fas fa-paper-plane paper-plane\"></i>\n</div>\n<h2 class=\"text-center m-t-10\"><b i18n=\"@@add-people-by-link\">TBT</b></h2>\n<p *ngIf=\"eventRef\" class=\"text-center m-t-5\" i18n=\"@@send-url-join-event\">TBT</p>\n<p *ngIf=\"distributionList\" class=\"text-center m-t-5\" i18n=\"@@send-url-join-list\">TBT</p>\n<div class=\"form-group\">\n  <label for=\"invite-token\"><b i18n=\"@@magic-link\">TBT</b></label>\n  <input type=\"text\" class=\"form-control\" id=\"invite-token\" value=\"{{generatedLink}}\"/>\n</div>\n<div class=\"d-flex justify-content-center m-t-50\">\n  <i class=\"fas fa-envelope m-t-20 paper-plane\"></i>\n</div>\n<h2 class=\"text-center m-t-10\"><b i18n=\"@@add-people-by-email\">TBT</b></h2>\n<p class=\"text-center m-t-5\" i18n=\"@@can-invite-people-by-email\">TBT</p>\n<div [formGroup]=\"form\" class=\"emails\">\n  <label><b i18n=\"@@email\">TBT</b></label>\n  <div formArrayName=\"emails\"\n       *ngFor=\"let item of emails.controls; let i = index;\" id=\"email-address\">\n    <div [formGroupName]=\"i\">\n      <div class=\"form-group\">\n        <span *ngIf=\"displayErrors[i]\" class=\"incorrect-input\" style=\"margin-right: 10% \" i18n=\"@@invalid-mail\">TBT</span>\n        <div class=\"mail-container\">\n          <input type=\"text\" class=\"form-control email\" formControlName=\"email\"/>\n          <div *ngIf=\"emails.length > 1\" class=\"action-email remove\">\n            <img (click)=\"removeItem(i)\" src=\"./assets/img/close.png\" class=\"close-button cursor-pointer\"/>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"add-another-email\" (click)=\"addItem()\">\n    <i (click)=\"addItem()\" class=\"fas fa-plus-circle\"></i><span i18n=\"@@add-another-email\">TBT</span>\n  </div>\n\n  <div class=\"row justify-content-center\">\n    <button (click)=\"sendMailInvitation()\"\n            class=\"btn btn-round white-button m-t-15\"\n            i18n=\"@@send-invitation\">TBT\n    </button>\n  </div>\n</div>\n<div *ngIf=\"eventRef && userLists?.length>0\" class=\"select-list\">\n  <div class=\"d-flex justify-content-center m-t-50\">\n    <i class=\"fas fa-users paper-plane\"></i>\n  </div>\n  <h2 class=\"text-center m-t-10\"><b i18n=\"@@add-people-by-list\">TBT</b></h2>\n  <p class=\"text-center m-t-5\" i18n=\"@@can-invite-people-by-list\">TBT</p>\n  <div [formGroup]>\n    <div class=\"form-group\">\n      <label for=\"select-list\" i18n=\"@@select-a-list\">TBT</label>\n      <select #t (change)=\"listPick(t)\" class=\"form-control\" id=\"select-list\">\n        <option *ngFor=\"let list of userLists\"\n                [id]=\"list.id\"\n                [value]=\"list.title\" i18n>\n          {{list.title}} ({{list.memberRefs.length}}  {list.memberRefs.length, plural, =1 {person} other {people}})\n        </option>\n      </select>\n    </div>\n  </div>\n  <div class=\"row justify-content-center\">\n    <button (click)=\"sendListInvitation()\" class=\"btn btn-round white-button m-t-15\" i18n=\"@@send-invitation\">TBT</button>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\n\ndeclare var $: any;\n\nexport enum VibentModals {\n  EVENT_CREATION = '#modalEventCreation',\n  SELECT_BUBBLE_TYPE = '#modalSelectBubbleType',\n  EXPANDED_BUBBLE = '#expandedBubble',\n  PROFILE_SETTINGS = '#modalProfileSettings',\n  EVENT_PARTICIPANTS = '#modalEventParticipants',\n  EVENT_SETTINGS = '#modalEventSettings',\n  TUTORIAL = '#modalTutorial',\n  DISTRIBUTION_LIST_CREATION = '#modalDistributionListCreation',\n  EXPANDED_DISTRIBUTION_LIST = '#modalExpandedDistributionList',\n}\n\n@Injectable()\nexport class ModalManagerService {\n\n  constructor() {\n  }\n\n  initHandleBackBrowser(...modalIds: VibentModals[]) {\n    for (const modalId of modalIds) {\n      $(modalId).on('show.bs.modal', () => {\n        window.location.hash = 'modal';\n      });\n\n      $(modalId).on('hidden.bs.modal', () => {\n        window.location.hash = '';\n      });\n\n      $(window).on('hashchange', () => {\n        if (window.location.hash !== '#modal') {\n          this.hideModal(modalId);\n        }\n      });\n    }\n  }\n\n  showModal(modalId: VibentModals) {\n    $(modalId).modal('show');\n  }\n\n  hideModal(modalId: VibentModals) {\n    $(modalId).modal('hide');\n  }\n}\n","export var VibentModals;\n(function (VibentModals) {\n    VibentModals[\"EVENT_CREATION\"] = \"#modalEventCreation\";\n    VibentModals[\"SELECT_BUBBLE_TYPE\"] = \"#modalSelectBubbleType\";\n    VibentModals[\"EXPANDED_BUBBLE\"] = \"#expandedBubble\";\n    VibentModals[\"PROFILE_SETTINGS\"] = \"#modalProfileSettings\";\n    VibentModals[\"EVENT_PARTICIPANTS\"] = \"#modalEventParticipants\";\n    VibentModals[\"EVENT_SETTINGS\"] = \"#modalEventSettings\";\n    VibentModals[\"TUTORIAL\"] = \"#modalTutorial\";\n    VibentModals[\"DISTRIBUTION_LIST_CREATION\"] = \"#modalDistributionListCreation\";\n    VibentModals[\"EXPANDED_DISTRIBUTION_LIST\"] = \"#modalExpandedDistributionList\";\n})(VibentModals || (VibentModals = {}));\nvar ModalManagerService = /** @class */ (function () {\n    function ModalManagerService() {\n    }\n    ModalManagerService.prototype.initHandleBackBrowser = function () {\n        var _this = this;\n        var modalIds = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modalIds[_i] = arguments[_i];\n        }\n        var _loop_1 = function (modalId) {\n            $(modalId).on('show.bs.modal', function () {\n                window.location.hash = 'modal';\n            });\n            $(modalId).on('hidden.bs.modal', function () {\n                window.location.hash = '';\n            });\n            $(window).on('hashchange', function () {\n                if (window.location.hash !== '#modal') {\n                    _this.hideModal(modalId);\n                }\n            });\n        };\n        for (var _a = 0, modalIds_1 = modalIds; _a < modalIds_1.length; _a++) {\n            var modalId = modalIds_1[_a];\n            _loop_1(modalId);\n        }\n    };\n    ModalManagerService.prototype.showModal = function (modalId) {\n        $(modalId).modal('show');\n    };\n    ModalManagerService.prototype.hideModal = function (modalId) {\n        $(modalId).modal('hide');\n    };\n    return ModalManagerService;\n}());\nexport { ModalManagerService };\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AddPeopleComponent } from './add-people.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { DistributionListsService } from '../../../../../../../core/services/distribution-lists/distribution-lists.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [\n    AddPeopleComponent\n  ],\n  providers: [DistributionListsService],\n  exports: [AddPeopleComponent]\n})\nexport class AddPeopleModule {\n}\n","import { Injectable } from '@angular/core';\nimport { HttpService } from '../../http/http.service';\nimport { take } from 'rxjs/operators';\nimport { Event } from '../../../shared/models/event';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { DistributionList } from '../../../shared/models/distribution-list';\n\nexport interface IEventSimpleInformation {\n  title: string;\n  ref: string;\n  peopleIn: number;\n}\n\n@Injectable()\nexport class DistributionListsService {\n\n  updated$ = new BehaviorSubject(false);\n\n  constructor(private httpService: HttpService) {\n  }\n\n  getUserEvents(): Promise<IEventSimpleInformation[]> {\n    const dlei: IEventSimpleInformation[] = [];\n    return new Promise(resolve => {\n      this.httpService.getEvents().pipe(take(1)).subscribe(\n        (events: Event[]) => {\n          for (const event of events) {\n            dlei.push({\n              title: event.title,\n              ref: event.ref,\n              peopleIn: event.participationRefs.length\n            });\n          }\n          resolve(dlei);\n        });\n    });\n  }\n\n  updateUserLists() {\n    this.updated$.next(true);\n  }\n\n  getUserDistributionLists(): Observable<DistributionList[]> {\n    return this.httpService.getConnectedDistributionLists();\n  }\n\n}\n"],"sourceRoot":""}