(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/VmJ":function(l,n,t){"use strict";var u;t.d(n,"a",function(){return u}),t.d(n,"b",function(){return e}),function(l){l.INFO="info",l.SUCCESS="success",l.WARNING="warning",l.DANGER="danger"}(u||(u={}));var e=function(){function l(){}return l.prototype.notify=function(l,n){$.notify({icon:"notifications",message:l},{type:n,z_index:9999,delay:1e3,timer:1e3,placement:{from:"bottom",align:"right"},template:'<div data-notify="container" class="col-xl-4 col-lg-4 col-11 col-sm-4 col-md-4 alert alert-{0} alert-with-icon" role="alert"><button mat-button  type="button" aria-hidden="true" class="close mat-button" data-notify="dismiss">  <i class="material-icons">close</i></button><i class="material-icons" data-notify="icon">notifications</i> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})},l}()},B73I:function(l,n,t){"use strict";t.d(n,"a",function(){return r});var u=t("gIcY"),e=t("PSD3"),i=t.n(e),s=t("AytR"),o=t("t9fZ"),r=function(){function l(l,n,t,u,e){this.fb=l,this.cd=n,this.httpService=t,this.distributionListService=u,this.messageService=e,this.displayErrors={},this.SELECT_ID="select-list"}return l.prototype.ngOnInit=function(){var l=this;this.form=new u.h({emails:this.emails=this.fb.array([this.createItem(),this.createItem(),this.createItem()])}),this.eventRef?(this.initEventInviteToken(),this.distributionListService.getUserDistributionLists().pipe(Object(o.a)(1)).subscribe(function(n){l.userLists=n,l.cd.detectChanges();var t=document.getElementById(l.SELECT_ID);l.selectedListId=+t.options[0].id})):this.distributionList&&this.initListInviteToken()},l.prototype.createItem=function(){return this.fb.group({email:new u.f("",u.u.email)})},l.prototype.addItem=function(){this.emails.push(this.createItem())},l.prototype.removeItem=function(l){this.emails.removeAt(l)},l.prototype.sendMailInvitation=function(){this.displayErrors={};for(var l=!1,n=0;n<this.emails.length;n++){var t=this.emails.at(n);!t.pristine&&t.invalid&&(l=!0,this.displayErrors[n]=!0)}if(!l)if(this.emails.controls.find(function(l){return 0!==l.value.email.length})){var u=this.emails.getRawValue().map(function(l){return l.email}).filter(function(l){return 0!==l.length});this.eventRef?this.sendEventEmails(u):this.distributionList&&this.sendListEmails(u)}else this.errorSwal(this.messageService.MIN_ONE_EMAIL_REQUIRED)},l.prototype.sendEventEmails=function(l){var n=this;this.httpService.eventMailInvite({ref:this.eventRef,recipients:l}).subscribe(function(){n.emails.controls.forEach(function(l){return l.reset()}),n.successSwal(n.messageService.INVITATION_SENT)},function(){n.errorSwal(n.messageService.BAD_EMAIL)})},l.prototype.sendListEmails=function(l){var n=this;this.httpService.listMailInvite({id:this.distributionList.id,recipients:l}).subscribe(function(){n.emails.controls.forEach(function(l){return l.reset()}),n.successSwal(n.messageService.INVITATION_SENT)},function(){n.errorSwal(n.messageService.BAD_EMAIL)})},l.prototype.sendListInvitation=function(){var l=this;this.httpService.inviteDistributionList({distributionListId:this.selectedListId,eventRef:this.eventRef}).pipe(Object(o.a)(1)).subscribe(function(){l.successSwal(l.messageService.INVITATIONS_SENT)},function(){l.errorSwal(l.messageService.AN_ERROR_OCCURED)})},l.prototype.listPick=function(l){this.selectedListId=l.options[l.selectedIndex].id},l.prototype.initEventInviteToken=function(){var l=this;this.httpService.getEventInviteToken(this.eventRef).subscribe(function(n){l.generatedLink=s.a.appUrl+"/invite/e/"+n.token,l.cd.detectChanges()})},l.prototype.initListInviteToken=function(){var l=this;this.httpService.getListInviteToken(this.distributionList.id).subscribe(function(n){l.generatedLink=s.a.appUrl+"/invite/l/"+n.token,l.cd.detectChanges()})},l.prototype.successSwal=function(l){i()({type:"success",title:l,showConfirmButton:!0})},l.prototype.errorSwal=function(l){i()({type:"error",title:l,showConfirmButton:!0})},l}()},HHhv:function(l,n,t){"use strict";var u=t("CcnG"),e=t("gIcY"),i=t("Ip0R");t("B73I"),t("gHic"),t("q0yS"),t("h48p"),t.d(n,"a",function(){return s}),t.d(n,"b",function(){return g});var s=u.pb({encapsulation:0,styles:[[".paper-plane[_ngcontent-%COMP%]{color:#138ccd;font-size:30px}.mail-container[_ngcontent-%COMP%]{display:inline-flex;width:100%}input.email[_ngcontent-%COMP%]{width:90%}.action-email[_ngcontent-%COMP%]{margin-top:8px}.close-button[_ngcontent-%COMP%]{width:17px;margin-left:20px}.add-another-email[_ngcontent-%COMP%]{color:#138ccd}.add-another-email[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer}.add-another-email[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.add-another-email[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function o(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,1,"p",[["class","text-center m-t-5"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Send them this URL to allow them to join your event."]))],null,null)}function r(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,1,"p",[["class","text-center m-t-5"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Send them this URL to allow them to join your list."]))],null,null)}function a(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,1,"span",[["class","incorrect-input"],["style","margin-right: 10% "]],null,null,null,null,null)),(l()(),u.Jb(-1,null,["This email is invalid - please fix it"]))],null,null)}function c(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,1,"div",[["class","action-email remove"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,0,"img",[["class","close-button cursor-pointer"],["src","./assets/img/close.png"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.removeItem(l.parent.context.index)&&u),u},null,null))],null,null)}function b(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,19,"div",[["formArrayName","emails"],["id","email-address"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),u.qb(1,212992,null,0,e.d,[[3,e.b],[8,null],[8,null]],{name:[0,"name"]},null),u.Gb(2048,null,e.b,null,[e.d]),u.qb(3,16384,null,0,e.p,[[4,e.b]],null,null),(l()(),u.rb(4,0,null,null,15,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),u.qb(5,212992,null,0,e.j,[[3,e.b],[8,null],[8,null]],{name:[0,"name"]},null),u.Gb(2048,null,e.b,null,[e.j]),u.qb(7,16384,null,0,e.p,[[4,e.b]],null,null),(l()(),u.rb(8,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.jb(16777216,null,null,1,null,a)),u.qb(10,16384,null,0,i.m,[u.R,u.O],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(11,0,null,null,8,"div",[["class","mail-container"]],null,null,null,null,null)),(l()(),u.rb(12,0,null,null,5,"input",[["class","form-control email"],["formControlName","email"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0;return"input"===n&&(e=!1!==u.Bb(l,13)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.Bb(l,13).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.Bb(l,13)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.Bb(l,13)._compositionEnd(t.target.value)&&e),e},null,null)),u.qb(13,16384,null,0,e.c,[u.E,u.k,[2,e.a]],null,null),u.Gb(1024,null,e.m,function(l){return[l]},[e.c]),u.qb(15,671744,null,0,e.g,[[3,e.b],[8,null],[8,null],[6,e.m],[2,e.z]],{name:[0,"name"]},null),u.Gb(2048,null,e.n,null,[e.g]),u.qb(17,16384,null,0,e.o,[[4,e.n]],null,null),(l()(),u.jb(16777216,null,null,1,null,c)),u.qb(19,16384,null,0,i.m,[u.R,u.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,1,0,"emails"),l(n,5,0,n.context.index),l(n,10,0,t.displayErrors[n.context.index]),l(n,15,0,"email"),l(n,19,0,t.emails.length>1)},function(l,n){l(n,0,0,u.Bb(n,3).ngClassUntouched,u.Bb(n,3).ngClassTouched,u.Bb(n,3).ngClassPristine,u.Bb(n,3).ngClassDirty,u.Bb(n,3).ngClassValid,u.Bb(n,3).ngClassInvalid,u.Bb(n,3).ngClassPending),l(n,4,0,u.Bb(n,7).ngClassUntouched,u.Bb(n,7).ngClassTouched,u.Bb(n,7).ngClassPristine,u.Bb(n,7).ngClassDirty,u.Bb(n,7).ngClassValid,u.Bb(n,7).ngClassInvalid,u.Bb(n,7).ngClassPending),l(n,12,0,u.Bb(n,17).ngClassUntouched,u.Bb(n,17).ngClassTouched,u.Bb(n,17).ngClassPristine,u.Bb(n,17).ngClassDirty,u.Bb(n,17).ngClassValid,u.Bb(n,17).ngClassInvalid,u.Bb(n,17).ngClassPending)})}function d(l){return u.Lb(0,[(l()(),u.Jb(-1,null,["person"]))],null,null)}function p(l){return u.Lb(0,[(l()(),u.Jb(-1,null,["people"]))],null,null)}function f(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,10,"option",[],[[8,"id",0]],null,null,null,null)),u.qb(1,147456,null,0,e.r,[u.k,u.E,[8,null]],{value:[0,"value"]},null),u.qb(2,147456,null,0,e.A,[u.k,u.E,[8,null]],{value:[0,"value"]},null),(l()(),u.Jb(3,null,[" "," ("," "])),(l()(),u.rb(4,0,null,null,5,null,null,null,null,null,null,null)),u.qb(5,16384,null,0,i.p,[i.o],{ngPlural:[0,"ngPlural"]},null),(l()(),u.jb(16777216,null,null,1,null,d)),u.qb(7,16384,null,0,i.q,[[8,"=1"],u.O,u.R,i.p],null,null),(l()(),u.jb(16777216,null,null,1,null,p)),u.qb(9,16384,null,0,i.q,[[8,"other"],u.O,u.R,i.p],null,null),(l()(),u.Jb(-1,null,[") "]))],function(l,n){l(n,1,0,n.context.$implicit.title),l(n,2,0,n.context.$implicit.title),l(n,5,0,n.context.$implicit.memberRefs.length)},function(l,n){l(n,0,0,n.context.$implicit.id),l(n,3,0,n.context.$implicit.title,n.context.$implicit.memberRefs.length)})}function m(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,20,"div",[["class","select-list"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,1,"div",[["class","d-flex justify-content-center m-t-50"]],null,null,null,null,null)),(l()(),u.rb(2,0,null,null,0,"i",[["class","fas fa-users paper-plane"]],null,null,null,null,null)),(l()(),u.rb(3,0,null,null,2,"h2",[["class","text-center m-t-10"]],null,null,null,null,null)),(l()(),u.rb(4,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Add people from a list"])),(l()(),u.rb(6,0,null,null,1,"p",[["class","text-center m-t-5"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Automatically invite all the people on a list to the event"])),(l()(),u.rb(8,0,null,null,9,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==u.Bb(l,9).onSubmit(t)&&e),"reset"===n&&(e=!1!==u.Bb(l,9).onReset()&&e),e},null,null)),u.qb(9,540672,null,0,e.i,[[8,null],[8,null]],null,null),u.Gb(2048,null,e.b,null,[e.i]),u.qb(11,16384,null,0,e.p,[[4,e.b]],null,null),(l()(),u.rb(12,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.rb(13,0,null,null,1,"label",[["for","select-list"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Select a distribution list"])),(l()(),u.rb(15,0,[["t",1]],null,2,"select",[["class","form-control"],["id","select-list"]],null,[[null,"change"]],function(l,n,t){var e=!0;return"change"===n&&(e=!1!==l.component.listPick(u.Bb(l,15))&&e),e},null,null)),(l()(),u.jb(16777216,null,null,1,null,f)),u.qb(17,278528,null,0,i.l,[u.R,u.O,u.s],{ngForOf:[0,"ngForOf"]},null),(l()(),u.rb(18,0,null,null,2,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(l()(),u.rb(19,0,null,null,1,"button",[["class","btn btn-round white-button m-t-15"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.sendListInvitation()&&u),u},null,null)),(l()(),u.Jb(-1,null,["Send "]))],function(l,n){l(n,17,0,n.component.userLists)},function(l,n){l(n,8,0,u.Bb(n,11).ngClassUntouched,u.Bb(n,11).ngClassTouched,u.Bb(n,11).ngClassPristine,u.Bb(n,11).ngClassDirty,u.Bb(n,11).ngClassValid,u.Bb(n,11).ngClassInvalid,u.Bb(n,11).ngClassPending)})}function g(l){return u.Lb(2,[(l()(),u.rb(0,0,null,null,1,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,0,"i",[["class","fas fa-paper-plane paper-plane"]],null,null,null,null,null)),(l()(),u.rb(2,0,null,null,2,"h2",[["class","text-center m-t-10"]],null,null,null,null,null)),(l()(),u.rb(3,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Add people with a magic link"])),(l()(),u.jb(16777216,null,null,1,null,o)),u.qb(6,16384,null,0,i.m,[u.R,u.O],{ngIf:[0,"ngIf"]},null),(l()(),u.jb(16777216,null,null,1,null,r)),u.qb(8,16384,null,0,i.m,[u.R,u.O],{ngIf:[0,"ngIf"]},null),(l()(),u.rb(9,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.rb(10,0,null,null,2,"label",[["for","invite-token"]],null,null,null,null,null)),(l()(),u.rb(11,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Magic link"])),(l()(),u.rb(13,0,null,null,0,"input",[["class","form-control"],["id","invite-token"],["type","text"]],[[8,"value",0]],null,null,null,null)),(l()(),u.rb(14,0,null,null,1,"div",[["class","d-flex justify-content-center m-t-50"]],null,null,null,null,null)),(l()(),u.rb(15,0,null,null,0,"i",[["class","fas fa-envelope m-t-20 paper-plane"]],null,null,null,null,null)),(l()(),u.rb(16,0,null,null,2,"h2",[["class","text-center m-t-10"]],null,null,null,null,null)),(l()(),u.rb(17,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Add people by email"])),(l()(),u.rb(19,0,null,null,1,"p",[["class","text-center m-t-5"]],null,null,null,null,null)),(l()(),u.Jb(-1,null,["You can also invite them by email"])),(l()(),u.rb(21,0,null,null,15,"div",[["class","emails"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==u.Bb(l,22).onSubmit(t)&&e),"reset"===n&&(e=!1!==u.Bb(l,22).onReset()&&e),e},null,null)),u.qb(22,540672,null,0,e.i,[[8,null],[8,null]],{form:[0,"form"]},null),u.Gb(2048,null,e.b,null,[e.i]),u.qb(24,16384,null,0,e.p,[[4,e.b]],null,null),(l()(),u.rb(25,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),u.rb(26,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Email"])),(l()(),u.jb(16777216,null,null,1,null,b)),u.qb(29,278528,null,0,i.l,[u.R,u.O,u.s],{ngForOf:[0,"ngForOf"]},null),(l()(),u.rb(30,0,null,null,3,"div",[["class","add-another-email"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.addItem()&&u),u},null,null)),(l()(),u.rb(31,0,null,null,0,"i",[["class","fas fa-plus-circle"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.addItem()&&u),u},null,null)),(l()(),u.rb(32,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,["Add another email"])),(l()(),u.rb(34,0,null,null,2,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(l()(),u.rb(35,0,null,null,1,"button",[["class","btn btn-round white-button m-t-15"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.sendMailInvitation()&&u),u},null,null)),(l()(),u.Jb(-1,null,["Send "])),(l()(),u.jb(16777216,null,null,1,null,m)),u.qb(38,16384,null,0,i.m,[u.R,u.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,6,0,t.eventRef),l(n,8,0,t.distributionList),l(n,22,0,t.form),l(n,29,0,t.emails.controls),l(n,38,0,t.eventRef&&(null==t.userLists?null:t.userLists.length)>0)},function(l,n){l(n,13,0,u.tb(1,"",n.component.generatedLink,"")),l(n,21,0,u.Bb(n,24).ngClassUntouched,u.Bb(n,24).ngClassTouched,u.Bb(n,24).ngClassPristine,u.Bb(n,24).ngClassDirty,u.Bb(n,24).ngClassValid,u.Bb(n,24).ngClassInvalid,u.Bb(n,24).ngClassPending)})}},J1Oq:function(l,n,t){"use strict";var u;t.d(n,"b",function(){return u}),t.d(n,"a",function(){return e}),function(l){l.EVENT_CREATION="#modalEventCreation",l.SELECT_BUBBLE_TYPE="#modalSelectBubbleType",l.EXPANDED_BUBBLE="#expandedBubble",l.PROFILE_SETTINGS="#modalProfileSettings",l.EVENT_PARTICIPANTS="#modalEventParticipants",l.EVENT_SETTINGS="#modalEventSettings",l.TUTORIAL="#modalTutorial",l.DISTRIBUTION_LIST_CREATION="#modalDistributionListCreation",l.EXPANDED_DISTRIBUTION_LIST="#modalExpandedDistributionList"}(u||(u={}));var e=function(){function l(){}return l.prototype.initHandleBackBrowser=function(){for(var l=this,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var u=function(n){$(n).on("show.bs.modal",function(){window.location.hash="modal"}),$(n).on("hidden.bs.modal",function(){window.location.hash=""}),$(window).on("hashchange",function(){"#modal"!==window.location.hash&&l.hideModal(n)})},e=0,i=n;e<i.length;e++)u(i[e])},l.prototype.showModal=function(l){$(l).modal("show")},l.prototype.hideModal=function(l){$(l).modal("hide")},l}()},lNVj:function(l,n,t){"use strict";t.d(n,"a",function(){return u});var u=function(){return function(){}}()},q0yS:function(l,n,t){"use strict";t.d(n,"a",function(){return i});var u=t("t9fZ"),e=t("26FU"),i=function(){function l(l){this.httpService=l,this.updated$=new e.a(!1)}return l.prototype.getUserEvents=function(){var l=this,n=[];return new Promise(function(t){l.httpService.getEvents().pipe(Object(u.a)(1)).subscribe(function(l){for(var u=0,e=l;u<e.length;u++){var i=e[u];n.push({title:i.title,ref:i.ref,peopleIn:i.participationRefs.length})}t(n)})})},l.prototype.updateUserLists=function(){this.updated$.next(!0)},l.prototype.getUserDistributionLists=function(){return this.httpService.getConnectedDistributionLists()},l}()}}]);
//# sourceMappingURL=1.e46bf5817fa512938ed2.js.map